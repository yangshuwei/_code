[{"D:\\ysw_study\\_code\\1.redux\\src\\index.js":"1","D:\\ysw_study\\_code\\1.redux\\src\\components\\Counter1.js":"2","D:\\ysw_study\\_code\\1.redux\\src\\components\\Counter2.js":"3","D:\\ysw_study\\_code\\1.redux\\src\\react-redux\\index.js":"4","D:\\ysw_study\\_code\\1.redux\\src\\store\\index.js":"5","D:\\ysw_study\\_code\\1.redux\\src\\redux\\index.js":"6","D:\\ysw_study\\_code\\1.redux\\src\\store\\actions\\counter1.js":"7","D:\\ysw_study\\_code\\1.redux\\src\\react-redux\\Provider.js":"8","D:\\ysw_study\\_code\\1.redux\\src\\react-redux\\connect.js":"9","D:\\ysw_study\\_code\\1.redux\\src\\redux\\createStore.js":"10","D:\\ysw_study\\_code\\1.redux\\src\\redux\\combineReducers.js":"11","D:\\ysw_study\\_code\\1.redux\\src\\redux\\bindActionCreators.js":"12","D:\\ysw_study\\_code\\1.redux\\src\\store\\action-types.js":"13","D:\\ysw_study\\_code\\1.redux\\src\\react-redux\\hooks\\index.js":"14","D:\\ysw_study\\_code\\1.redux\\src\\react-redux\\ReactReduxContext.js":"15","D:\\ysw_study\\_code\\1.redux\\src\\store\\reducers\\index.js":"16","D:\\ysw_study\\_code\\1.redux\\src\\react-redux\\hooks\\useSelector.js":"17","D:\\ysw_study\\_code\\1.redux\\src\\store\\reducers\\counter1.js":"18","D:\\ysw_study\\_code\\1.redux\\src\\react-redux\\hooks\\useDispatch.js":"19","D:\\ysw_study\\_code\\1.redux\\src\\store\\reducers\\counter2.js":"20"},{"size":449,"mtime":1610327218058,"results":"21","hashOfConfig":"22"},{"size":523,"mtime":1610330638253,"results":"23","hashOfConfig":"22"},{"size":1624,"mtime":1610332972902,"results":"24","hashOfConfig":"22"},{"size":172,"mtime":1610327218062,"results":"25","hashOfConfig":"22"},{"size":1321,"mtime":1610428476886,"results":"26","hashOfConfig":"22"},{"size":191,"mtime":1609923519919,"results":"27","hashOfConfig":"22"},{"size":231,"mtime":1609918183732,"results":"28","hashOfConfig":"22"},{"size":296,"mtime":1610088970184,"results":"29","hashOfConfig":"22"},{"size":1684,"mtime":1610327218059,"results":"30","hashOfConfig":"22"},{"size":716,"mtime":1609924972188,"results":"31","hashOfConfig":"22"},{"size":336,"mtime":1609923507130,"results":"32","hashOfConfig":"22"},{"size":466,"mtime":1614069441805,"results":"33","hashOfConfig":"22"},{"size":122,"mtime":1609916693856,"results":"34","hashOfConfig":"22"},{"size":108,"mtime":1610327218060,"results":"35","hashOfConfig":"22"},{"size":111,"mtime":1609981094376,"results":"36","hashOfConfig":"22"},{"size":245,"mtime":1609924948820,"results":"37","hashOfConfig":"22"},{"size":639,"mtime":1610332950207,"results":"38","hashOfConfig":"22"},{"size":330,"mtime":1609916733400,"results":"39","hashOfConfig":"22"},{"size":229,"mtime":1610327218060,"results":"40","hashOfConfig":"22"},{"size":315,"mtime":1610332472074,"results":"41","hashOfConfig":"22"},{"filePath":"42","messages":"43","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"44","usedDeprecatedRules":"45"},"p1qs9t",{"filePath":"46","messages":"47","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"45"},{"filePath":"48","messages":"49","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"45"},{"filePath":"50","messages":"51","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"45"},{"filePath":"52","messages":"53","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"45"},{"filePath":"54","messages":"55","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"45"},{"filePath":"56","messages":"57","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"45"},{"filePath":"58","messages":"59","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"45"},{"filePath":"60","messages":"61","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"62","usedDeprecatedRules":"45"},{"filePath":"63","messages":"64","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"45"},{"filePath":"65","messages":"66","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"45"},{"filePath":"67","messages":"68","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"69","messages":"70","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"45"},{"filePath":"71","messages":"72","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"45"},{"filePath":"73","messages":"74","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"45"},{"filePath":"75","messages":"76","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"45"},{"filePath":"77","messages":"78","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"79","usedDeprecatedRules":"45"},{"filePath":"80","messages":"81","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"45"},{"filePath":"82","messages":"83","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"84","usedDeprecatedRules":"45"},{"filePath":"85","messages":"86","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"D:\\ysw_study\\_code\\1.redux\\src\\index.js",["87"],"import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport {createStore} from './redux';\r\nimport Counter1 from './components/Counter1';\r\nimport Counter2 from './components/Counter2';\r\nimport store from './store'\r\nimport {Provider} from './react-redux';\r\n\r\nReactDOM.render(\r\n  <Provider store={store}>\r\n    <div>\r\n      <Counter1 />\r\n      <hr />\r\n      <Counter2 />\r\n    </div>\r\n  </Provider>\r\n  ,\r\n  document.getElementById('root')\r\n);\r\n",["88","89"],"D:\\ysw_study\\_code\\1.redux\\src\\components\\Counter1.js",[],"D:\\ysw_study\\_code\\1.redux\\src\\components\\Counter2.js",[],"D:\\ysw_study\\_code\\1.redux\\src\\react-redux\\index.js",[],"D:\\ysw_study\\_code\\1.redux\\src\\store\\index.js",[],"D:\\ysw_study\\_code\\1.redux\\src\\redux\\index.js",[],"D:\\ysw_study\\_code\\1.redux\\src\\store\\actions\\counter1.js",[],"D:\\ysw_study\\_code\\1.redux\\src\\react-redux\\Provider.js",[],"D:\\ysw_study\\_code\\1.redux\\src\\react-redux\\connect.js",["90"],"import React,{useLayoutEffect, useMemo, useReducer} from 'react';\r\nimport  ReactReduxContext  from './ReactReduxContext';\r\nimport {bindActionCreators} from '../redux'\r\nfunction connect(mapStateToProps,mapDispatchToProps){\r\n  return function(OldComponent){\r\n    return function(props){\r\n      const { store } = React.useContext(ReactReduxContext); //通过上下文获取Provider 中  value={{store}}\r\n      const {getState,dispatch,subscribe} = store;\r\n      const prevState = getState(); //获取最新状态\r\n      const stateProps = mapStateToProps(prevState) //把state转成props\r\n      const dispatchProps = useMemo(()=>{\r\n        let dispatchProps;\r\n        if (typeof mapDispatchToProps === 'object'){\r\n          dispatchProps = bindActionCreators(mapDispatchToProps,dispatch)\r\n        } else if (typeof mapDispatchToProps === 'function'){\r\n          dispatchProps = mapDispatchToProps(dispatch,props)\r\n        }else{\r\n          dispatchProps = {dispatch}\r\n        }\r\n        return dispatchProps\r\n      },[dispatch,props])\r\n      // const [forceUpdate] = useReducer(x=>x+1,0) //forceUpdate = > dispatch\r\n      // //x=>x+1  是为了改变原有的state  让组件更新\r\n      // useLayoutEffect(()=>{\r\n      //   return subscribe(()=>forceUpdate(x=>x+1)) //状态改变，执行forceUpdate  让组件更新 \r\n      // }, [subscribe])\r\n\r\n      let [,setState] = React.useState(0);\r\n      useLayoutEffect(()=>{\r\n        let unsubscribe = subscribe(()=>setState(x=>x+1))\r\n\r\n        return ()=>{\r\n          unsubscribe();\r\n        }\r\n      },[subscribe])\r\n      \r\n      return <OldComponent {...props} {...stateProps} {...dispatchProps}/>\r\n    }\r\n  }\r\n}\r\nexport default connect;","D:\\ysw_study\\_code\\1.redux\\src\\redux\\createStore.js",[],"D:\\ysw_study\\_code\\1.redux\\src\\redux\\combineReducers.js",[],"D:\\ysw_study\\_code\\1.redux\\src\\redux\\bindActionCreators.js",[],"D:\\ysw_study\\_code\\1.redux\\src\\store\\action-types.js",[],"D:\\ysw_study\\_code\\1.redux\\src\\react-redux\\hooks\\index.js",[],"D:\\ysw_study\\_code\\1.redux\\src\\react-redux\\ReactReduxContext.js",[],"D:\\ysw_study\\_code\\1.redux\\src\\store\\reducers\\index.js",[],"D:\\ysw_study\\_code\\1.redux\\src\\react-redux\\hooks\\useSelector.js",["91"],"import React, { useContext, useLayoutEffect, useReducer } from 'react';\r\nimport ReactReduxContext from '../ReactReduxContext';\r\n// function selector(state){\r\n//   return state.counter2\r\n// }\r\nfunction useSelector(selector){ \r\n  let {store} = useContext(ReactReduxContext);\r\n  let state = store.getState();\r\n  const selectedState = selector(state); //state.counter2\r\n  let [,forceRender] = useReducer(x=>x+1,0) //触发更新机制\r\n  useLayoutEffect(()=>{\r\n    let unsubscribe = store.subscribe(forceRender) //订阅事件\r\n    return ()=>{\r\n      unsubscribe();\r\n    }\r\n  },[store])\r\n  return selectedState\r\n}\r\nexport default useSelector;","D:\\ysw_study\\_code\\1.redux\\src\\store\\reducers\\counter1.js",[],"D:\\ysw_study\\_code\\1.redux\\src\\react-redux\\hooks\\useDispatch.js",["92"],"import React,{useContext} from 'react';\r\nimport ReactReduxContext from '../ReactReduxContext';\r\nfunction useDispatch(){\r\n    let {store} = useContext(ReactReduxContext);\r\n    return store.dispatch;\r\n}\r\nexport default useDispatch;","D:\\ysw_study\\_code\\1.redux\\src\\store\\reducers\\counter2.js",[],{"ruleId":"93","severity":1,"message":"94","line":3,"column":9,"nodeType":"95","messageId":"96","endLine":3,"endColumn":20},{"ruleId":"97","replacedBy":"98"},{"ruleId":"99","replacedBy":"100"},{"ruleId":"93","severity":1,"message":"101","line":1,"column":41,"nodeType":"95","messageId":"96","endLine":1,"endColumn":51},{"ruleId":"93","severity":1,"message":"102","line":1,"column":8,"nodeType":"95","messageId":"96","endLine":1,"endColumn":13},{"ruleId":"93","severity":1,"message":"102","line":1,"column":8,"nodeType":"95","messageId":"96","endLine":1,"endColumn":13},"no-unused-vars","'createStore' is defined but never used.","Identifier","unusedVar","no-native-reassign",["103"],"no-negated-in-lhs",["104"],"'useReducer' is defined but never used.","'React' is defined but never used.","no-global-assign","no-unsafe-negation"]