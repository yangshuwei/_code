{"version":3,"sources":["webpack://react_ssr/./src/client/request.js","webpack://react_ssr/./src/components/Header/index.js","webpack://react_ssr/./src/containers/App.js","webpack://react_ssr/./src/containers/Counter/index.js","webpack://react_ssr/./src/containers/Home/index.js","webpack://react_ssr/./src/containers/NotFound/index.js","webpack://react_ssr/./src/containers/User/detail.js","webpack://react_ssr/./src/containers/User/index.js","webpack://react_ssr/./src/routes.js","webpack://react_ssr/./src/server/render.js","webpack://react_ssr/./src/server/request.js","webpack://react_ssr/./src/store/action-type.js","webpack://react_ssr/./src/store/actions/counter.js","webpack://react_ssr/./src/store/actions/home.js","webpack://react_ssr/./src/store/index.js","webpack://react_ssr/./src/store/reducers/counter.js","webpack://react_ssr/./src/store/reducers/home.js","webpack://react_ssr/./src/store/reducers/index.js","webpack://react_ssr/./src/components/Header/header.css","webpack://react_ssr/./node_modules/css-loader/dist/runtime/api.js","webpack://react_ssr/./node_modules/css-loader/dist/runtime/cssWithMappingToString.js","webpack://react_ssr/./src/components/Header/header.css?b367","webpack://react_ssr/./node_modules/isomorphic-style-loader/insertCss.js","webpack://react_ssr/external \"@babel/runtime/helpers/asyncToGenerator\"","webpack://react_ssr/external \"@babel/runtime/helpers/slicedToArray\"","webpack://react_ssr/external \"@babel/runtime/regenerator\"","webpack://react_ssr/external \"axios\"","webpack://react_ssr/external \"koa\"","webpack://react_ssr/external \"koa-router\"","webpack://react_ssr/external \"koa-server-http-proxy\"","webpack://react_ssr/external \"koa-static\"","webpack://react_ssr/external \"react\"","webpack://react_ssr/external \"react-dom/server\"","webpack://react_ssr/external \"react-redux\"","webpack://react_ssr/external \"react-router\"","webpack://react_ssr/external \"react-router-config\"","webpack://react_ssr/external \"react-router-dom\"","webpack://react_ssr/external \"redux\"","webpack://react_ssr/external \"redux-logger\"","webpack://react_ssr/external \"redux-thunk\"","webpack://react_ssr/webpack/bootstrap","webpack://react_ssr/webpack/runtime/compat get default export","webpack://react_ssr/webpack/runtime/define property getters","webpack://react_ssr/webpack/runtime/hasOwnProperty shorthand","webpack://react_ssr/webpack/runtime/make namespace object","webpack://react_ssr/./src/server/index.js"],"names":["axios","baseURL","Header","props","staticContext","csses","push","styles","App","renderRoutes","route","routes","Counter","useState","status","seStatus","countHandler","number","add","connect","state","counter","actions","Home","useEffect","list","length","getHomeList","map","item","name","age","home","loadData","store","console","log","dispatch","NotFound","notfound","UserDetail","User","path","component","exact","key","ctx","next","getServerStore","context","matchedRoutes","matchRoutes","promises","forEach","promise","Promise","resolve","then","all","html","renderToString","cssStr","join","action","redirect","url","body","JSON","stringify","getState","headers","cookies","get","ADD","SET_HOME_LIST","type","types","request","result","data","payload","getClientStore","initState","window","createStore","reducers","applyMiddleware","thunk","clientRequest","logger","serverRequest","combineReducers","app","Koa","router","KoaRouter","use","proxy","target","pathRewrite","changeOrigin","koaStatic","process","cwd","render","listen"],"mappings":"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","file":"server.js","sourcesContent":["import axios from 'axios';\r\nexport default axios.create({\r\n    baseURL: '/'\r\n})","import React,{Fragment} from 'react';\r\nimport {Link} from 'react-router-dom';\r\nimport styles from './header.css'\r\n\r\nconst Header = (props)=>{\r\n  if(props.staticContext){\r\n    props.staticContext.csses.push(styles._getCss())\r\n  }\r\n  return(\r\n    <Fragment>\r\n      <div>\r\n        <ul className=\"clo\">\r\n          <li>\r\n            <Link to=\"/\">Home</Link>\r\n          </li>\r\n          <li>\r\n            <Link to=\"/counter\">Counter</Link>\r\n          </li>\r\n          <li>\r\n            <Link to=\"/user\">user</Link>\r\n          </li>\r\n          <li>\r\n            <Link to=\"/user/detail\">detail</Link>\r\n          </li>\r\n        </ul>\r\n      </div>\r\n    </Fragment>\r\n  )\r\n}\r\n\r\nexport default Header","import React,{Fragment} from 'react';\r\nimport {renderRoutes} from 'react-router-config';\r\nimport Header from '../components/Header'\r\nlet App = (props)=>{\r\n    return(\r\n        <Fragment>\r\n            <Header staticContext={props.staticContext}/>\r\n            {renderRoutes(props.route.routes)}\r\n          </Fragment>\r\n    )\r\n}\r\nexport default App;","import React,{Fragment, useState} from 'react';\r\nimport {connect} from 'react-redux'\r\nimport { Redirect } from 'react-router';\r\nimport actions from '../../store/actions/counter'\r\nconst Counter = (props)=>{\r\n  const [status,seStatus] = useState(false)\r\n  const countHandler = ()=>{\r\n   \r\n    \r\n  }\r\n  return(\r\n    <div>\r\n      {\r\n        status ? <Fragment>\r\n          <p>{props.number}</p>\r\n          <button onClick={props.add}>+</button>\r\n        </Fragment>\r\n        : <Fragment>\r\n          <Redirect to=\"/\" />\r\n        </Fragment>\r\n      }\r\n     \r\n    </div>\r\n  )\r\n}\r\nexport default connect((state)=>state.counter,actions)(Counter);","import React,{useEffect} from 'react';\r\nimport {connect} from 'react-redux';\r\nimport actions from '../../store/actions/home';\r\nlet Home = (props)=>{\r\n  useEffect(()=>{\r\n    if(props.list.length==0){\r\n      props.getHomeList()\r\n    }\r\n    \r\n  },[])\r\n  return(\r\n    <div>\r\n      <ul>\r\n        {props.list.map(item=>(\r\n          <li key={item.name}>name:{item.name},age:{item.age}</li>\r\n        ))\r\n        }\r\n        \r\n      </ul>\r\n    </div>\r\n  )\r\n}\r\n\r\n\r\n//此方法用来异步加载数据，将数据放到仓库中去\r\nHome = connect(state=>state.home,actions)(Home)\r\nHome.loadData = function(store){\r\n  console.log('store--',store)\r\n  // dispatch 派发的 就是一个action  return store.dispatch =>  return axios.get()  是一个promise\r\n   return store.dispatch(actions.getHomeList())\r\n}\r\n// Home = \r\nexport default Home;","import React,{useEffect,useContext,useLayoutEffect,getSnapshotBeforeUpdate} from 'react';\r\nlet NotFound = (props)=>{\r\n  if(props.staticContext){\r\n    props.staticContext.notfound = true;\r\n  }\r\n  \r\n  return(\r\n    <div>\r\n      404\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default NotFound;","import React, { Fragment } from 'react';\r\nconst UserDetail = () => {\r\n  return (\r\n    <div>user d</div>\r\n  )\r\n}\r\nexport default UserDetail","import React, { Fragment } from 'react';\r\nconst User = ()=>{\r\n  return(\r\n    <div>user list</div>\r\n  )\r\n}\r\nexport default User","import React, { Fragment } from 'react';\r\nimport { Route } from 'react-router-dom';\r\nimport Home from './containers/Home';\r\nimport Counter from './containers/Counter';\r\nimport User from './containers/User/index';\r\nimport UserDetail from './containers/User/detail';\r\nimport App from './containers/App';\r\nimport NotFound from './containers/NotFound';\r\nexport default [\r\n  {\r\n    path:'/',\r\n    component:App,\r\n\r\n    routes:[\r\n      {\r\n        path: '/',\r\n        component: Home,\r\n        exact: true,\r\n        key: 'home',\r\n        loadData: Home.loadData//服务端渲染需要加载异步数据\r\n      },\r\n      {\r\n        path: '/counter',\r\n        component: Counter,\r\n        key: 'login',\r\n      },\r\n      {\r\n        component: NotFound,\r\n        key: 'notfound',\r\n      },\r\n      // {\r\n      //   path: '/user',\r\n      //   component: User,\r\n      //   key: '/user',\r\n        \r\n      //   routes: [\r\n      //     {\r\n      //       path: '/user/detail',\r\n      //       component: UserDetail,\r\n      //       key: '/user/detail',\r\n      //       exact: true,\r\n      //     }\r\n      //   ]\r\n      // },\r\n    ]\r\n  }\r\n]\r\n// export default (\r\n//   <Fragment>\r\n//     <Route path=\"/\" exact component={Home}></Route>\r\n//     <Route path=\"/counter\" exact component={Counter}></Route>\r\n//   </Fragment>\r\n// )","import React, { Fragment } from 'react';\r\nimport { renderToString } from 'react-dom/server';\r\nimport { StaticRouter, Route, matchPath } from 'react-router-dom'\r\nimport routes from '../routes';\r\nimport { renderRoutes,matchRoutes } from 'react-router-config';\r\nimport { Provider } from 'react-redux'\r\nimport { getServerStore } from '../store';\r\n\r\nexport default async function (ctx,next) {\r\n  let store = getServerStore(ctx);\r\n  let context = {csses:[]}\r\n  let matchedRoutes = matchRoutes(routes,ctx.path)\r\n  let promises=[];\r\n  matchedRoutes.forEach(item => {\r\n    if (item.route.loadData) {\r\n      let promise = new Promise(resolve => item.route.loadData(store).then(resolve, resolve))\r\n      promises.push(promise)\r\n    }\r\n  })\r\n    await Promise.all(promises);\r\n    let html = renderToString(\r\n      <Provider store={store}>\r\n        <StaticRouter context={context} location={ctx.path}>\r\n          \r\n          {renderRoutes(routes)}\r\n        </StaticRouter>\r\n      </Provider>\r\n  \r\n    )\r\n  let cssStr = context.csses.join('\\n');\r\n  console.log('cssStr', cssStr)\r\n    console.log('context',context)\r\n    if(context.action == 'REPLACE'){\r\n      ctx.status = 302;\r\n      return ctx.redirect(context.url)\r\n    }else if(context.notfound){\r\n      ctx.status = 404\r\n    }\r\n  \r\n    ctx.body = `\r\n      <!DOCTYPE html>\r\n        <html lang=\"en\">\r\n        <head>\r\n          <meta charset=\"UTF-8\">\r\n          <meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge\">\r\n          <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\r\n          <title>Document</title>\r\n          <style>${cssStr}</style>\r\n        </head>\r\n        <body>\r\n            <div id=\"root\">${html}</div>\r\n            <script>\r\n              window.context = {\r\n                state:${JSON.stringify(store.getState())}\r\n              }\r\n            </script>\r\n            <script src=\"/index.js\"></script>\r\n        </body>\r\n        </html>\r\n    `\r\n}","import axios from 'axios';\r\nexport default (ctx)=> axios.create({\r\n    baseURL: 'http://localhost:8081/',\r\n    headers:{\r\n        cookies:ctx.cookies.get('cookie')||''\r\n    }\r\n})","export const ADD = 'ADD';\r\nexport const SET_HOME_LIST = 'SET_HOME_LIST';","import * as types from '../action-type';\r\nexport default {\r\n  add(){\r\n    return {type:types.ADD}\r\n  }\r\n}","import * as types from '../action-type';\r\nimport axios from 'axios'\r\nexport default {\r\n    getHomeList(){\r\n        //返回一个函数  store.dispatch(action)\r\n\r\n        \r\n        return function(dispatch,getState,request){ //redux-thunk 中间件\r\n            // return Promise.resolve(\r\n            //     dispatch({\r\n            //         type: types.SET_HOME_LIST,\r\n            //         payload: [{name:123,age:18}]\r\n            //     })\r\n            // )\r\n            return request.get('/api/users').then(result=>{\r\n                // console.log(result)\r\n                let list  = result.data;\r\n                dispatch({\r\n                    type:types.SET_HOME_LIST,\r\n                    payload:list\r\n                })\r\n            })\r\n        }\r\n    }\r\n}","import { createStore, applyMiddleware } from 'redux';\r\nimport thunk from 'redux-thunk';\r\nimport logger from 'redux-logger';\r\nimport reducers from './reducers';\r\nimport clientRequest from '../client/request';\r\nimport serverRequest from '../server/request';\r\nexport function getClientStore() {\r\n  let initState = window.context.state;\r\n  return createStore(reducers, initState, applyMiddleware(thunk.withExtraArgument(clientRequest), logger))\r\n}\r\nexport function getServerStore(ctx) {\r\n\r\n  return createStore(reducers, applyMiddleware(thunk.withExtraArgument(serverRequest(ctx)), logger))\r\n}","import * as type from '../action-type';\r\nlet initState = {number:0}\r\nexport default function(state=initState,action){\r\n  switch (action.type) {\r\n    case type.ADD:\r\n      return {number:state.number+1}\r\n    default:\r\n      return state\r\n  }\r\n}","import * as type from '../action-type';\r\nlet initState = {list:[]}\r\nexport default function(state=initState,action){\r\n  switch (action.type) {\r\n    case type.SET_HOME_LIST:\r\n      return { list: action.payload }\r\n    default:\r\n      return state\r\n  }\r\n}","import {combineReducers} from 'redux';\r\nimport counter from './counter';\r\nimport home from './home';\r\n\r\nconst reducers = combineReducers({\r\n  counter,\r\n  home\r\n})\r\nexport default reducers;","// Imports\nvar ___CSS_LOADER_API_SOURCEMAP_IMPORT___ = require(\"../../../node_modules/css-loader/dist/runtime/cssWithMappingToString.js\");\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../node_modules/css-loader/dist/runtime/api.js\");\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".clo{\\r\\n  color:red;\\r\\n  margin-top: 100px;\\r\\n}\\r\\n\", \"\",{\"version\":3,\"sources\":[\"webpack://./src/components/Header/header.css\"],\"names\":[],\"mappings\":\"AAAA;EACE,SAAS;EACT,iBAAiB;AACnB\",\"sourcesContent\":[\".clo{\\r\\n  color:red;\\r\\n  margin-top: 100px;\\r\\n}\\r\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nmodule.exports = ___CSS_LOADER_EXPORT___;\n","\"use strict\";\n\n/*\n  MIT License http://www.opensource.org/licenses/mit-license.php\n  Author Tobias Koppers @sokra\n*/\n// css base code, injected by the css-loader\n// eslint-disable-next-line func-names\nmodule.exports = function (cssWithMappingToString) {\n  var list = []; // return the list of modules as css string\n\n  list.toString = function toString() {\n    return this.map(function (item) {\n      var content = cssWithMappingToString(item);\n\n      if (item[2]) {\n        return \"@media \".concat(item[2], \" {\").concat(content, \"}\");\n      }\n\n      return content;\n    }).join(\"\");\n  }; // import a list of modules into the list\n  // eslint-disable-next-line func-names\n\n\n  list.i = function (modules, mediaQuery, dedupe) {\n    if (typeof modules === \"string\") {\n      // eslint-disable-next-line no-param-reassign\n      modules = [[null, modules, \"\"]];\n    }\n\n    var alreadyImportedModules = {};\n\n    if (dedupe) {\n      for (var i = 0; i < this.length; i++) {\n        // eslint-disable-next-line prefer-destructuring\n        var id = this[i][0];\n\n        if (id != null) {\n          alreadyImportedModules[id] = true;\n        }\n      }\n    }\n\n    for (var _i = 0; _i < modules.length; _i++) {\n      var item = [].concat(modules[_i]);\n\n      if (dedupe && alreadyImportedModules[item[0]]) {\n        // eslint-disable-next-line no-continue\n        continue;\n      }\n\n      if (mediaQuery) {\n        if (!item[2]) {\n          item[2] = mediaQuery;\n        } else {\n          item[2] = \"\".concat(mediaQuery, \" and \").concat(item[2]);\n        }\n      }\n\n      list.push(item);\n    }\n  };\n\n  return list;\n};","\"use strict\";\n\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction _iterableToArrayLimit(arr, i) { if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return; var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nmodule.exports = function cssWithMappingToString(item) {\n  var _item = _slicedToArray(item, 4),\n      content = _item[1],\n      cssMapping = _item[3];\n\n  if (typeof btoa === \"function\") {\n    // eslint-disable-next-line no-undef\n    var base64 = btoa(unescape(encodeURIComponent(JSON.stringify(cssMapping))));\n    var data = \"sourceMappingURL=data:application/json;charset=utf-8;base64,\".concat(base64);\n    var sourceMapping = \"/*# \".concat(data, \" */\");\n    var sourceURLs = cssMapping.sources.map(function (source) {\n      return \"/*# sourceURL=\".concat(cssMapping.sourceRoot || \"\").concat(source, \" */\");\n    });\n    return [content].concat(sourceURLs).concat([sourceMapping]).join(\"\\n\");\n  }\n\n  return [content].join(\"\\n\");\n};","\n    var refs = 0;\n    var css = require(\"!!../../../node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[1].use[1]!./header.css\");\n    var insertCss = require(\"!../../../node_modules/isomorphic-style-loader/insertCss.js\");\n    var content = typeof css === 'string' ? [[module.id, css, '']] : css;\n\n    exports = module.exports = css.locals || {};\n    exports._getContent = function() { return content; };\n    exports._getCss = function() { return '' + css; };\n    exports._insertCss = function(options) { return insertCss(content, options) };\n\n    // Hot Module Replacement\n    // https://webpack.github.io/docs/hot-module-replacement\n    // Only activated in browser context\n    if (module.hot && typeof window !== 'undefined' && window.document) {\n      var removeCss = function() {};\n      module.hot.accept(\"!!../../../node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[1].use[1]!./header.css\", function() {\n        css = require(\"!!../../../node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[1].use[1]!./header.css\");\n        content = typeof css === 'string' ? [[module.id, css, '']] : css;\n        removeCss = insertCss(content, { replace: true });\n      });\n      module.hot.dispose(function() { removeCss(); });\n    }\n  ","/*! Isomorphic Style Loader | MIT License | https://github.com/kriasoft/isomorphic-style-loader */\n\n'use strict';\n\nvar inserted = {};\n\nfunction b64EncodeUnicode(str) {\n  return btoa(encodeURIComponent(str).replace(/%([0-9A-F]{2})/g, function (match, p1) {\n    return String.fromCharCode(\"0x\" + p1);\n  }));\n}\n\nfunction removeCss(ids) {\n  ids.forEach(function (id) {\n    if (--inserted[id] <= 0) {\n      var elem = document.getElementById(id);\n\n      if (elem) {\n        elem.parentNode.removeChild(elem);\n      }\n    }\n  });\n}\n\nfunction insertCss(styles, _temp) {\n  var _ref = _temp === void 0 ? {} : _temp,\n      _ref$replace = _ref.replace,\n      replace = _ref$replace === void 0 ? false : _ref$replace,\n      _ref$prepend = _ref.prepend,\n      prepend = _ref$prepend === void 0 ? false : _ref$prepend,\n      _ref$prefix = _ref.prefix,\n      prefix = _ref$prefix === void 0 ? 's' : _ref$prefix;\n\n  var ids = [];\n\n  for (var i = 0; i < styles.length; i++) {\n    var _styles$i = styles[i],\n        moduleId = _styles$i[0],\n        css = _styles$i[1],\n        media = _styles$i[2],\n        sourceMap = _styles$i[3];\n    var id = \"\" + prefix + moduleId + \"-\" + i;\n    ids.push(id);\n\n    if (inserted[id]) {\n      if (!replace) {\n        inserted[id]++;\n        continue;\n      }\n    }\n\n    inserted[id] = 1;\n    var elem = document.getElementById(id);\n    var create = false;\n\n    if (!elem) {\n      create = true;\n      elem = document.createElement('style');\n      elem.setAttribute('type', 'text/css');\n      elem.id = id;\n\n      if (media) {\n        elem.setAttribute('media', media);\n      }\n    }\n\n    var cssText = css;\n\n    if (sourceMap && typeof btoa === 'function') {\n      cssText += \"\\n/*# sourceMappingURL=data:application/json;base64,\" + b64EncodeUnicode(JSON.stringify(sourceMap)) + \"*/\";\n      cssText += \"\\n/*# sourceURL=\" + sourceMap.file + \"?\" + id + \"*/\";\n    }\n\n    if ('textContent' in elem) {\n      elem.textContent = cssText;\n    } else {\n      elem.styleSheet.cssText = cssText;\n    }\n\n    if (create) {\n      if (prepend) {\n        document.head.insertBefore(elem, document.head.childNodes[0]);\n      } else {\n        document.head.appendChild(elem);\n      }\n    }\n  }\n\n  return removeCss.bind(null, ids);\n}\n\nmodule.exports = insertCss;\n//# sourceMappingURL=insertCss.js.map\n","module.exports = require(\"@babel/runtime/helpers/asyncToGenerator\");;","module.exports = require(\"@babel/runtime/helpers/slicedToArray\");;","module.exports = require(\"@babel/runtime/regenerator\");;","module.exports = require(\"axios\");;","module.exports = require(\"koa\");;","module.exports = require(\"koa-router\");;","module.exports = require(\"koa-server-http-proxy\");;","module.exports = require(\"koa-static\");;","module.exports = require(\"react\");;","module.exports = require(\"react-dom/server\");;","module.exports = require(\"react-redux\");;","module.exports = require(\"react-router\");;","module.exports = require(\"react-router-config\");;","module.exports = require(\"react-router-dom\");;","module.exports = require(\"redux\");;","module.exports = require(\"redux-logger\");;","module.exports = require(\"redux-thunk\");;","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\tid: moduleId,\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","\r\nimport Koa from 'koa';\r\nimport KoaRouter from 'koa-router';\r\nimport koaStatic from 'koa-static';\r\nimport render from './render';\r\nimport proxy from 'koa-server-http-proxy';\r\nconst app = new Koa();\r\nlet router = new KoaRouter()\r\n\r\napp.use(proxy(\"/api\",{\r\n  target:\"http://localhost:8081\",\r\n  pathRewrite:{'^/api':'/api'},\r\n  changeOrigin:true\r\n}));\r\n\r\napp.use(koaStatic(process.cwd() + '/public'))\r\napp.use(async (ctx,next)=>{\r\n  if(ctx.path!='/favicon.ico'){\r\n    await render(ctx,next)\r\n  }\r\n  \r\n})\r\n\r\n// app.use(router.routes())\r\n// app.use(router.allowedMethods());\r\n// console.log(process.cwd())\r\n\r\napp.listen(8080, function () {\r\n  console.log('start')\r\n})"],"sourceRoot":""}